<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promise Day 2026 - For Priyanka ‚ù§Ô∏è</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=Cormorant+Garamond:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0A0A0A;
            --bg-secondary: #2D0B0B;
            --accent-rose: #d5d5d5;
            --accent-gold: #ffffff;
            --text-primary: #FFFFFF;
            --glass-bg: rgba(255, 212, 212, 0.08);
            --glass-border: rgba(255, 212, 212, 0.2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            height: 100%;
            overflow: hidden;
        }

        body {
            font-family: 'Cormorant Garamond', serif;
            background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);
            color: var(--text-primary);
            overflow-x: hidden;
            min-height: 100vh;
            position: relative;
            overscroll-behavior: none;
        }

        #particles-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
        }

        .container {
            position: relative;
            z-index: 1;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Hero Section */
        .hero-section {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 40px 20px;
        }

        .hero-section::after {
            content: 'Tap to continue';
            margin-top: 18px;
            font-size: 1.1rem;
            color: var(--accent-rose);
            opacity: 0.75;
            animation: pulse 2s infinite;
        }

        .hero-title {
            font-family: 'Playfair Display', serif;
            font-size: clamp(3rem, 8vw, 7rem);
            font-weight: 900;
            background: linear-gradient(135deg, var(--accent-rose) 0%, var(--accent-gold) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: -2px;
            animation: fadeInDown 1.5s ease-out;
        }

        .subtitle {
            font-family: 'Playfair Display', serif;
            font-size: clamp(1.8rem, 4vw, 2.8rem);
            color: var(--accent-gold);
            margin-top: 2rem;
            margin-bottom: 3rem;
            font-weight: 400;
            opacity: 0;
            animation: fadeIn 1s ease-out 1s forwards;
        }

        /* Promises Section */
        .promises-section {
            flex: 1;
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        body.view-promises .hero-section {
            flex: 0;
            padding: 18px 20px 10px;
            justify-content: flex-start;
        }

        body.view-promises .hero-section::after {
            content: '';
            display: none;
        }

        body.view-promises .promises-section {
            display: flex;
        }

        body.show-final .hero-section,
        body.show-final .footer {
            opacity: 0;
            pointer-events: none;
        }

        .section-title {
            font-family: 'Playfair Display', serif;
            font-size: clamp(2rem, 5vw, 3.5rem);
            color: var(--accent-rose);
            text-align: center;
            margin-bottom: 60px;
            font-weight: 700;
        }

        /* Card Stack Container */
        .card-stack {
            position: relative;
            width: 100%;
            max-width: 400px;
            height: 500px;
            perspective: 1000px;
        }

        .promise-card {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
            -webkit-transform-style: preserve-3d;
            transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
        }

        .promise-card.flipped {
            transform: rotateY(180deg);
        }

        .promise-card.moved-left {
            transform: translateX(-150%) translateY(-20px) rotate(-15deg);
            opacity: 0;
            pointer-events: none;
        }

        .card-front,
        .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
            transform-style: preserve-3d;
            -webkit-transform-style: preserve-3d;
            border-radius: 30px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 40px;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 2px solid var(--glass-border);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .card-front {
            background: linear-gradient(135deg, rgba(255, 212, 212, 0.15), rgba(255, 229, 180, 0.15));
            transform: rotateY(0deg) translateZ(1px);
        }

        .card-back {
            transform: rotateY(180deg) translateZ(1px);
            background: linear-gradient(135deg, rgba(255, 212, 212, 0.2), rgba(255, 229, 180, 0.2));
        }

        .promise-number {
            font-family: 'Playfair Display', serif;
            font-size: clamp(3rem, 8vw, 5rem);
            color: var(--accent-rose);
            font-weight: 900;
            text-shadow: 0 0 30px rgba(255, 212, 212, 0.5);
        }

        .promise-label {
            font-size: clamp(1.3rem, 3vw, 1.8rem);
            color: var(--accent-gold);
            font-weight: 600;
            margin-top: 10px;
        }

        .promise-text {
            font-size: clamp(1.1rem, 2.5vw, 1.4rem);
            line-height: 1.8;
            color: var(--text-primary);
            font-weight: 400;
            text-align: center;
        }

        .tap-hint {
            position: absolute;
            bottom: 20px;
            font-size: 1rem;
            color: var(--accent-rose);
            opacity: 0.7;
            animation: pulse 2s infinite;
        }

        /* Stack Effect for Background Cards */
        .promise-card:not(.active):nth-child(2) {
            transform: translateY(10px) scale(0.95);
            opacity: 0.7;
            z-index: -1;
        }

        .promise-card:not(.active):nth-child(3) {
            transform: translateY(20px) scale(0.9);
            opacity: 0.5;
            z-index: -2;
        }

        .promise-card:not(.active):nth-child(4) {
            transform: translateY(30px) scale(0.85);
            opacity: 0.3;
            z-index: -3;
        }

        .promise-card:not(.active):nth-child(5) {
            transform: translateY(40px) scale(0.8);
            opacity: 0.2;
            z-index: -4;
        }

        .promise-card.active {
            z-index: 10;
            opacity: 1;
        }

        .next-button {
            background: linear-gradient(135deg, var(--accent-rose), var(--accent-gold));
            border: none;
            padding: 15px 50px;
            font-size: clamp(1rem, 2.5vw, 1.3rem);
            font-family: 'Playfair Display', serif;
            font-weight: 700;
            color: var(--bg-primary);
            border-radius: 50px;
            cursor: pointer;
            margin-top: 30px;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(255, 212, 212, 0.3);
        }

        .next-button:hover {
            transform: scale(1.05);
            box-shadow: 0 15px 40px rgba(255, 212, 212, 0.5);
        }

        .next-button:active {
            transform: scale(0.98);
        }

        .next-button.hidden {
            display: none;
        }

        /* Final Message */
        .final-message {
            position: fixed;
            inset: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 60px 20px;
            z-index: 50;
            opacity: 0;
            transform: scale(0.5);
            transition: all 1.5s cubic-bezier(0.4, 0, 0.2, 1);
            pointer-events: none;
            background: rgba(10, 10, 10, 0.55);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        .final-message.visible {
            opacity: 1;
            transform: scale(1);
            pointer-events: auto;
        }

        .final-message h2 {
            font-family: 'Playfair Display', serif;
            font-size: clamp(2.5rem, 8vw, 6rem);
            background: linear-gradient(135deg, var(--accent-rose) 0%, var(--accent-gold) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 900;
            margin-bottom: 20px;
            animation: heartbeatText 1.5s infinite;
        }

        .final-message p {
            font-size: clamp(1.2rem, 3vw, 1.8rem);
            color: var(--accent-gold);
            opacity: 0.95;
            font-style: italic;
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 40px 20px;
            font-size: clamp(1.2rem, 3vw, 1.8rem);
            color: var(--accent-gold);
            font-style: italic;
            margin-top: 60px;
            font-size: 1.3rem;
            font-weight: 600;

        }

        .heart-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9999;
        }

        .floating-heart {
            position: absolute;
            font-size: 20px;
            animation: floatUp 3s ease-out forwards;
            pointer-events: none;
        }

        /* SVG Heart Animation */
        .svg-heart {
            width: 200px;
            height: 200px;
            margin: 40px auto;
            opacity: 0;
        }

        .svg-heart.visible {
            opacity: 1;
            animation: drawHeart 2s ease-in-out forwards;
        }

        /* Animations */
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.03); }
        }

        @keyframes heartbeatText {
            0%, 100% { 
                transform: scale(1);
                filter: drop-shadow(0 0 20px rgba(255, 212, 212, 0.8));
            }
            14% { 
                transform: scale(1.15);
                filter: drop-shadow(0 0 40px rgba(255, 212, 212, 1));
            }
            28% { 
                transform: scale(1);
                filter: drop-shadow(0 0 20px rgba(255, 212, 212, 0.8));
            }
            42% { 
                transform: scale(1.15);
                filter: drop-shadow(0 0 40px rgba(255, 212, 212, 1));
            }
            56% { 
                transform: scale(1);
                filter: drop-shadow(0 0 20px rgba(255, 212, 212, 0.8));
            }
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.7; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.1); }
        }

        @keyframes floatUp {
            0% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
            100% {
                opacity: 0;
                transform: translateY(-200px) scale(1.5);
            }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .card-stack {
                max-width: 350px;
                height: 450px;
            }

            .card-front,
            .card-back {
                padding: 30px;
            }

            .promise-text {
                font-size: 1.4rem;
                font-weight: 900;
            }
        }

        @media (max-width: 480px) {
            .card-stack {
                max-width: 300px;
                height: 400px;
            }

            .card-front,
            .card-back {
                padding: 25px;
            }
        }
    </style>
</head>
<body>
    <canvas id="particles-canvas"></canvas>
    <div class="heart-container" id="heartContainer"></div>

    <div class="container">
        <!-- Hero Section -->
        <section class="hero-section">
            <h1 class="hero-title">Priyanka</h1>
            <p class="subtitle">My Promises to You</p>
        </section>

        <!-- Promises Section -->
        <section class="promises-section" id="promisesSection">
            <div class="card-stack" id="cardStack">
                <!-- Cards will be added here dynamically -->
            </div>

            <div class="final-message" id="finalMessage">
                <h2>Happy Promise Day<br>Priyanka! üíï</h2>
                <p>~ From Dhanu ‚ù§Ô∏è</p>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            ~ From Dhanu ‚ù§Ô∏è
        </footer>
    </div>

    <script>
        const DEBUG_PROMISES = false;

        // Promises Data
        const promises = [
            "I promise to always value the 'sweet and caring' person you are and to never take your love for granted.",
            "I promise to always remember the small things that make you happy, from your favorite sweets to the way you like to be comforted when you're stressed.",
            "I promise to always try my best to bring back your smile, even on the days when you feel like being silent.",
            "I promise that I will always listen to you and truly try to understand you, no matter what.",
            "I promise to keep our spark alive and to always be the one who cheers the loudest for your happiness, Priyanka."
        ];

        let currentCardIndex = 0;
        let isFlipped = false;
        let isTyping = false;

        // Create all cards upfront
        function createCards() {
            const cardStack = document.getElementById('cardStack');
            
            promises.forEach((promise, index) => {
                const card = document.createElement('div');
                card.classList.add('promise-card');
                card.dataset.promise = promise;
                if (index === 0) {
                    card.classList.add('active');
                }
                
                card.innerHTML = `
                    <div class="card-front">
                        <div class="promise-number">${index + 1}</div>
                        <div class="promise-label">Promise ${index + 1}</div>
                        <div class="tap-hint">Tap to reveal</div>
                    </div>
                    <div class="card-back">
                        <div class="promise-text" aria-live="polite"></div>
                        <div class="tap-hint">Tap to continue</div>
                    </div>
                `;
                
                card.addEventListener('click', () => handleCardClick(index));
                cardStack.appendChild(card);
            });
        }

        async function typePromiseText(element, text) {
            isTyping = true;
            element.textContent = '';
            for (let i = 0; i < text.length; i++) {
                element.textContent += text[i];
                // Slightly faster typing on mobile
                await new Promise(resolve => setTimeout(resolve, 18));
            }
            isTyping = false;
        }

        function handleCardClick(index) {
            if (index !== currentCardIndex) return;
            
            const card = document.querySelectorAll('.promise-card')[index];
            const promiseTextEl = card.querySelector('.promise-text');

            if (DEBUG_PROMISES) {
                console.log('[PromiseCards] click', {
                    index,
                    currentCardIndex,
                    isFlipped,
                    isTyping,
                    classes: [...card.classList]
                });
            }
            
            if (!isFlipped) {
                // Flip the card to show promise
                card.classList.add('flipped');
                isFlipped = true;

                if (promiseTextEl && promiseTextEl.textContent.trim() === '') {
                    typePromiseText(promiseTextEl, card.dataset.promise || promises[index]);
                }

                if (DEBUG_PROMISES) {
                    console.log('[PromiseCards] flipped', {
                        index,
                        classes: [...card.classList]
                    });
                }
            } else {
                if (isTyping) return;
                const isLastCard = currentCardIndex === promises.length - 1;

                // Move card to left and show next card / final overlay
                card.classList.add('moved-left');
                isFlipped = false;

                if (DEBUG_PROMISES) {
                    console.log('[PromiseCards] moved-left', {
                        index,
                        isLastCard,
                        classes: [...card.classList]
                    });
                }

                if (!isLastCard) {
                    currentCardIndex++;
                    // Activate next card
                    setTimeout(() => {
                        const nextCard = document.querySelectorAll('.promise-card')[currentCardIndex];
                        nextCard.classList.add('active');
                    }, 300);
                } else {
                    // On last card: after double tap (flip + tap), hide cards and show centered message
                    setTimeout(() => {
                        document.body.classList.add('show-final');
                        document.getElementById('finalMessage').classList.add('visible');
                    }, 450);
                }
            }
        }

        // Initialize cards on load
        createCards();

        // No-scroll mobile UX: tap hero to enter promises
        document.querySelector('.hero-section').addEventListener('click', () => {
            document.body.classList.add('view-promises');
        });

        // Particles Animation
        const canvas = document.getElementById('particles-canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        class Particle {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.size = Math.random() * 3 + 1;
                this.speedX = Math.random() * 0.5 - 0.25;
                this.speedY = Math.random() * 0.5 - 0.25;
                this.opacity = Math.random() * 0.5 + 0.2;
            }

            update() {
                this.x += this.speedX;
                this.y += this.speedY;

                if (this.x > canvas.width) this.x = 0;
                if (this.x < 0) this.x = canvas.width;
                if (this.y > canvas.height) this.y = 0;
                if (this.y < 0) this.y = canvas.height;
            }

            draw() {
                ctx.fillStyle = `rgba(255, 212, 212, ${this.opacity})`;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        const particlesArray = [];
        const particleCount = window.innerWidth < 768 ? 50 : 100;

        for (let i = 0; i < particleCount; i++) {
            particlesArray.push(new Particle());
        }

        function animateParticles() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            particlesArray.forEach(particle => {
                particle.update();
                particle.draw();
            });
            requestAnimationFrame(animateParticles);
        }

        animateParticles();

        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });

        // Floating Hearts on Click
        document.addEventListener('click', (e) => {
            createFloatingHeart(e.clientX, e.clientY);
        });

        function createFloatingHeart(x, y) {
            const heart = document.createElement('div');
            heart.classList.add('floating-heart');
            heart.textContent = '‚ù§Ô∏è';
            heart.style.left = x + 'px';
            heart.style.top = y + 'px';
            document.getElementById('heartContainer').appendChild(heart);

            setTimeout(() => {
                heart.remove();
            }, 3000);
        }
    </script>
</body>
</html>